<!DOCTYPE html>
<html>

<head>
  <title>main</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="../css//tui-grid.css" />
  <link rel="stylesheet" href="../css/main.css" />
  <script src="../plugin/tui-grid.js"></script>
</head>

<body>
  <div class="head">
    <h1>
      HOSPITAL
    </h1>
  </div>
  <div class="navDiv">
  <nav class="nav">
    <ul class="navUl">
      <li><a href="#" style="opacity: 1;">HOME</a></li>
      <li><a href="#">TEST</a></li>
    </ul>
  </nav>
  </div>
  <div class="form">
  <div class="gridBox">
      <div id="grid" class="grid"></div>
  </div>
  <div id="pic" class="imgBox">    
    <img 
      id="targetPic"
      src="../images/1.jpg"
      class="img"
      alt="pic"/>
  </div>
</div>
</body>

</html>

<script type="text/javascript">
  var gridData = [
    {
      name: 'Beautiful Lies',
      artist: 'Birdy1',
      type: '../images/2.jpg'
    },
    {
      name: 'Beautiful Lies',
      artist: 'Birdy2',
      type: '../images/3.jpg'
    },
    {
      name: 'Beautiful Lies',
      artist: 'Birdy3',
      type: '../images/6.jpg'
    },
    {
      name: 'Beautiful Lies',
      artist: 'Birdy4',
      type: '../images/5.jpg'
    }
  ]

  const grid = new tui.Grid({
    el: document.getElementById('grid'),
    data: gridData,
    scrollX: false,
    scrollY: false,
    columns: [
      {
        header: 'Name',
        name: 'name',
        width: 150,
      },
      {
        header: 'Artist',
        name: 'artist',
        width: 150
      },
      {
        header: 'Type',
        name: 'type'  
      }
    ]
  });

  grid.on('click', (ev) => {
        let picSrc = grid.getValue(ev.rowKey, "type");
        document.getElementById("targetPic").setAttribute("src", picSrc);
    });

    const targetPic = document.getElementById("targetPic");
    targetPic.addEventListener("click", clickEvent);

    function clickEvent(e) {
        let url = targetPic.getAttribute("src");
        window.open("./picture.html?src="+url);
    }
</script>